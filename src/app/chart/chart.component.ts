import {
  ChangeDetectionStrategy,
  Component,
  Input,
  OnInit,
} from '@angular/core';

@Component({
  selector: 'app-chart',
  templateUrl: './chart.component.html',
  changeDetection: ChangeDetectionStrategy.OnPush,
  styleUrls: ['./chart.component.css'],
})
export class ChartComponent implements OnInit {
  @Input()
  info: any;

  constructor() {}

  public barChartOptions = {
    scaleShowVerticalLines: false,
    responsive: true,
  };
  public barChartLabels = [
    'Prcnt_U18',
    'Prcnt_HHBM',
    'Prcnt_NoCa',
    'Prcnt_Lng',
    'Prcnt_Rent',
    'Prcnt_Over65',
  ];
  public barChartType = 'bar';
  public barChartLegend = true;
  public barChartData = [
    {
      data: [''],
      label: '',
    },
  ];

  ngOnInit(): void {
    const result = [
      this.info?.properties?.Prcnt_U18,
      this.info?.properties?.Prcnt_HHBM,
      this.info?.properties?.Prcnt_NoCa,
      this.info?.properties?.Prcnt_Lng,
      this.info?.properties?.Prcnt_Rent,
      this.info?.properties?.Prcnt_Over65,
    ];
    this.barChartData[0].data = result;
    this.barChartData[0].label = this.info?.properties?.NAMELSAD10;
  }
}
